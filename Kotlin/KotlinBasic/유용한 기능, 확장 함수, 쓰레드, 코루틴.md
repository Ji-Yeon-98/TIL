## 1. ìœ ìš©í•œ ê¸°ëŠ¥

### 1) ì¼ë°˜ ìë£Œí˜• ê°„ì˜ ë³€í™˜ ì˜ˆì‹œ

- ìˆ«ì ìë£Œí˜•ë¼ë¦¬ ë³€ê²½ :  toìë£Œí˜•() ë©”ì†Œë“œ ì‚¬ìš©
- ë¬¸ìì—´ â†’ ìˆ«ìë¡œ ë³€ê²½ : ë³„ë„ì˜ ë©”ì†Œë“œ í•„ìš” (Integer.parseInt(), toDouble())

```kotlin
		var num1 = 20
    var num2 = 30.2

		//ì‹¤ìˆ˜ -> ì •ìˆ˜
    var num3 = num2.toInt()
		//ì •ìˆ˜ -> ì‹¤ìˆ˜
    var num4 = num1.toDouble()

    var strNum5 = "10"
    var strNum6 = "10.21"
	
		//ë¬¸ìì—´ -> Int
    var num5 = Integer.parseInt(strNum5)
		//ë¬¸ìì—´ -> Double
    var num6 = strNum6.toDouble()

    println("num3: $num3")
    println("num4: $num4")
    println("num5: $num5")
    println("num6: $num6")
```

</br>

### 2) ê°ì²´ ìë£Œí˜• ê°„ì˜ ë³€í™˜ ì˜ˆì‹œ (ìƒì† ê´€ê³„)

- ì—… ìºìŠ¤íŒ… : ìì‹ í´ë˜ìŠ¤ë¥¼ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ìë£Œí˜•ìœ¼ë¡œ ê°ì²´ ìƒì„±

```kotlin
fun main() {
    println("ëª‡ ë§ˆë¦¬ë¥¼ ìƒì„±í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")
    var count = readLine()!!.toInt()
    var birds = mutableListOf<Bird>()

    for(idx in 0..count-1) {
        println("ì¡°ë¥˜ì˜ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
        var name = readLine()!!

				//bird ë¦¬ìŠ¤íŠ¸ì—ëŠ” Bird í´ë˜ìŠ¤ë§Œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤ê³  ì œí•œ
				//Sparrow ê°ì²´ ìƒì„± í›„ ë°”ë¡œ ë„£ì„ ìˆ˜ ì—†ë‹¤ -> as Bird ì‚¬ìš©í•´ Bird í´ë˜ìŠ¤ë¡œì¨ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤
        //as Bird ìƒëµ ê°€ëŠ¥
				birds.add(Sparrow(name) as Bird)
    }
    println("============ì¡°ë¥˜ ìƒì„±ì™„ë£Œ============")
    for(bird in birds) {
        bird.fly()
    }
}

open class Bird(name: String) {
    var name: String

    init {
        this.name = name
    }

    fun fly() {
        println("${name}ì´ë¦„ì˜ ì¡°ë¥˜ê°€ ë‚ ì•„ìš”~")
    }
}

class Sparrow(name: String): Bird(name) {

}
```

- ë‹¤ìš´ ìºìŠ¤íŒ… : ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìì‹ í´ë˜ìŠ¤ì˜ ìë£Œí˜•ìœ¼ë¡œ ê°ì²´ ìƒì„±

```kotlin
fun main() {
    println("ëª‡ ë§ˆë¦¬ë¥¼ ìƒì„±í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")
    var count = readLine()!!.toInt()
    var birds = mutableListOf<Bird>()

    for(idx in 0..count-1) {
        println("ì¡°ë¥˜ì˜ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
        var name = readLine()!!

        birds.add(Sparrow(name) as Bird)
    }
    println("============ì¡°ë¥˜ ìƒì„±ì™„ë£Œ============")
    for(bird in birds) {
        bird.fly()
    }
    // ë‹¤ìš´ìºìŠ¤íŒ… ì˜¤ë¥˜
		// Bird ë¦¬ìŠ¤íŠ¸ì˜ ì¸ë±ìŠ¤ 0ë²ˆì§¸ ì •ë³´ì¸ Bird ê°ì²´ë¥¼ Sparrow ê°ì²´ì— ë„£ì„ ìˆ˜ ì—†ë‹¤.
    // SparrowëŠ” Birdê°€ ê°€ì ¸ì•¼í•  ì •ë³´ë¥¼ ëª¨ë‘ ê°€ì§€ê³  ìˆì§€ ì•Šê¸° ë•Œë¬¸ì„ (Bird ì •ë³´ name, fly)
    var s1:Sparrow = birds.get(0)
}

open class Bird(name: String) {
    var name: String

    init {
        this.name = name
    }

    fun fly() {
        println("${name}ì´ë¦„ì˜ ì¡°ë¥˜ê°€ ë‚ ì•„ìš”~")
    }
}

class Sparrow(name: String): Bird(name) {

}
```

</br>

### 3) ìë£Œí˜• íƒ€ì… í™•ì¸ : Is

```kotlin
//name ë³€ìˆ˜ê°€ ë¬¸ìì—´ì¸ì§€ì•„ë‹Œì§€
if(name is String) {
        println("nameì€ String íƒ€ì…ì…ë‹ˆë‹¤")
    } else {
        println("nameì€ String íƒ€ì…ì´ ì•„ë‹™ë‹ˆë‹¤")
    }
```

</br>

### 4) ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ ë¦¬í„´

- ë©”ì†Œë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ë°ì´í„° ë¦¬í„´
- ë‘ ê°œ ì´ìƒì˜ ë°ì´í„°ë¥¼ í¬í•¨í•˜ëŠ” ë°ì´í„° í´ë˜ìŠ¤ ì„¤ê³„ í›„ ì¸ìŠ¤í„´ìŠ¤ ë¦¬í„´

- Pair í™œìš©í•´ì„œ 2ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ ë¦¬í„´

```kotlin
fun main() {
    var chicken = Chicken()
    var eggs = chicken.getEggs()
    var listEggs = eggs.toList() //ë¦¬ìŠ¤íŠ¸í™”

//    first, secondë¡œ ê´€ë¦¬
//    var firstEgg = eggs.first
//    var secondEgg = eggs.second

    // ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬
    var firstEgg = listEggs[0] //ë‹¬ê±€
    var secondEgg = listEggs[1] //ë§¥ë°˜ì„

    println("ë‹¬ê±€ì˜ ì¢…ë¥˜ëŠ” ${eggs} ì…ë‹ˆë‹¤.")
    println("ë¦¬ìŠ¤íŠ¸ ë‹¬ê±€ì˜ ì¢…ë¥˜ëŠ” ${listEggs} ì…ë‹ˆë‹¤.")
    println("ì²«ë²ˆì§¸ ë‹¬ê±€ì˜ ì¢…ë¥˜ëŠ” ${firstEgg} ì…ë‹ˆë‹¤.")
    println("ë‘ë²ˆì§¸ ë‹¬ê±€ì˜ ì¢…ë¥˜ëŠ” ${secondEgg} ì…ë‹ˆë‹¤.")
}

class Chicken {
    fun getEggs(): Pair<String, String> {
        var eggs = Pair("ë‹¬ê±€", "ë§¥ë°˜ì„")
        return eggs
    }
}
```

- Triple í™œìš©í•´ì„œ 3ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ ë¦¬í„´

```kotlin
fun main() {
    var chicken = Chicken()
    var eggs = chicken.getThreeEggs()
    var listEggs = eggs.toList()

//    first, second, thirdë¡œ ê´€ë¦¬
//    var firstEgg = eggs.first
//    var secondEgg = eggs.second
//    var eggTime = eggs.third

    // ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬
    var firstEgg = listEggs[0]
    var secondEgg = listEggs[1]
    var eggTime = listEggs[2] //ë‚ ì§œ 20230101

    println("ë‹¬ê±€ì˜ ì •ë³´ëŠ” ${eggs} ì…ë‹ˆë‹¤.")
    println("ë¦¬ìŠ¤íŠ¸ ë‹¬ê±€ì˜ ì •ë³´ëŠ” ${listEggs} ì…ë‹ˆë‹¤.")
    println("ì²«ë²ˆì§¸ ë‹¬ê±€ì˜ ì¢…ë¥˜ëŠ” ${firstEgg} ì…ë‹ˆë‹¤.")
    println("ë‘ë²ˆì§¸ ë‹¬ê±€ì˜ ì¢…ë¥˜ëŠ” ${secondEgg} ì…ë‹ˆë‹¤.")
    println("ë‹¬ê±€ì€ ${eggTime}ì— ë‚˜ì™”ìŠµë‹ˆë‹¤.")
}

class Chicken {
    fun getTwoEggs(): Pair<String, String> {
        var eggs = Pair("ë‹¬ê±€", "ë§¥ë°˜ì„")
        return eggs
    }

    fun getThreeEggs(): Triple<String, String, Int> {
        var eggs = Triple("ë‹¬ê±€", "ë§¥ë°˜ì„", 20230101)
        return eggs
    }
}
```

</br>

### 5) ìê¸° ìì‹ ì˜ ê°ì²´ë¥¼ ì „ë‹¬í•´ì„œ íš¨ìœ¨ì ì¸ ì²˜ë¦¬ : Scope Function

- Scope Functions : ê°ì²´ ì‚¬ìš©í•  ë•Œ ì„ì‹œë¡œ Scope ë§Œë“¤ì–´ í¸ë¦¬í•œ ì½”ë“œ ì‘ì„±

</br>

- let function í™œìš©
    - it : ìì‹ ì˜ ê°ì²´ ì „ë‹¬, ìˆ˜í–‰ëœ ê²°ê³¼ ë°˜í™˜

```kotlin
fun main() {
    var strNum = "10"

    //strNumì´ nullì¸ì§€ ê²€ì‚¬
    var result = strNum?.let {
        // ì¤‘ê´„í˜¸ ì•ˆì—ì„œëŠ” itìœ¼ë¡œ í™œìš© (it = strNum)
				// itìœ¼ë¡œ ìì‹ ì˜ ê°ì²´ë¥¼ ì „ë‹¬
        Integer.parseInt(it)
    }

    println(result!!+1)
}
```

- with function í™œìš©
    - this : ìì‹ ì˜ ê°ì²´ ì „ë‹¬, ì½”ë“œ ìˆ˜í–‰ (ìƒëµ ê°€ëŠ¥)
    - null ì•„ë‹ ë•Œë§Œ ì‚¬ìš©

```kotlin
		var alphabets = "abcd"

    with(alphabets) {
//      var result = this.subSequence(0,2)
        var result = subSequence(0,2)
        println(result)
    }
```

- also function í™œìš©
    - it : ìì‹ ì˜ ê°ì²´ ì „ë‹¬ â†’ ë°˜í™˜
    - applyì™€ í•¨ê»˜ ìì£¼ ì‚¬ìš©

```kotlin
fun main() {
    var student = Student("ì°¸ìƒˆ", 10)

		//it = student ê°ì²´, result = ageê°€ ë°”ë€ ìƒˆë¡œìš´ ê°ì²´ ë°˜í™˜
    var result = student?.also {
        it.age = 50
    }
    result?.displayInfo()
    student.displayInfo()
}

class Student(name: String, age: Int) {
    var name: String
    var age: Int

    init {
        this.name = name
        this.age = age
    }

    fun displayInfo() {
        println("ì´ë¦„ì€ ${name} ì…ë‹ˆë‹¤")
        println("ë‚˜ì´ëŠ” ${age} ì…ë‹ˆë‹¤")
    }
}
```

- apply function
    - this : ìì‹ ì˜ ê°ì²´ ì „ë‹¬ â†’ ë°˜í™˜
    - ê°ì²´ì˜ ìƒíƒœ ë³€í™” + ë°”ë¡œ ì €ì¥í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©

```kotlin
fun main() {
    var student = Student("ì°¸ìƒˆ", 10)

    var result = student?.apply {
        student.age = 50
    }
    result?.displayInfo()
    student.displayInfo()
}

class Student(name: String, age: Int) {
    var name: String
    var age: Int
    
    init {
        this.name = name
        this.age = age
    }
    
    fun displayInfo() {
        println("ì´ë¦„ì€ ${name} ì…ë‹ˆë‹¤")
        println("ë‚˜ì´ëŠ” ${age} ì…ë‹ˆë‹¤")
    }
}
```

- run function í™œìš© : this
    - ê°ì²´ì—ì„œ í˜¸ì¶œ X

```kotlin
fun main() {
    var totalPrice = run {
        var computer = 10000
        var mouse = 5000

        computer+mouse
    }
    println("ì´ ê°€ê²©ì€ ${totalPrice}ì…ë‹ˆë‹¤")
}
```

- ê°ì²´ì—ì„œ í˜¸ì¶œ O : null ì²´í¬ ìˆ˜í–‰ ê°€ëŠ¥

```kotlin
fun main() {
    var student = Student("ì°¸ìƒˆ", 10)
    student?.run {
				//this.displayInfo
        displayInfo()
    }
}

class Student(name: String, age: Int) {
    var name: String
    var age: Int
    
    init {
        this.name = name
        this.age = age
    }
    
    fun displayInfo() {
        println("ì´ë¦„ì€ ${name} ì…ë‹ˆë‹¤")
        println("ë‚˜ì´ëŠ” ${age} ì…ë‹ˆë‹¤")
    }
}
```

- itìœ¼ë¡œ ScopeFunction ë‹¤ì¤‘ìœ¼ë¡œ ì‚¬ìš©í•  ë•Œ ë¬¸ì œ ë³€ê²½

```kotlin
// Scope Functionì„ ì¤‘ì²©ìœ¼ë¡œ ì‚¬ìš©í•  ê²½ìš° ëˆ„ê°€ ëˆ„êµ¬ì˜ ë²”ìœ„ì¸ì§€ ì•Œìˆ˜ ì—†ë‹¤!
// Implicit parameter 'it' of enclosing lambda is shadowed ê²½ê³  ë°œìƒ!

data class Person(
	var name: String = "",
	var age: Int? = null,
	var child: Person? = null
)

// ì˜ëª»ëœ ì˜ˆì‹œ
Person().also {
	it.name = "í•œì„ë´‰"
	it.age = 40
  val child = Person().also {
	  it.name = "í™ê¸¸ë™" // ëˆ„êµ¬ì˜ itì¸ì§€ ëª¨ë¥¸ë‹¤!
    it.age = 10 // ëˆ„êµ¬ì˜ itì¸ì§€ ëª¨ë¥¸ë‹¤!
  }
  it.child = child
}

// ìˆ˜ì •í•œ ì˜ˆì‹œ
Person().also {
	it.name = "í•œì„ë´‰"
	it.age = 40
  val child = Person().also { c ->
	  c.name = "í™ê¸¸ë™"
    c.age = 10
  }
  it.child = child
}
```

- ì •ë¦¬

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/850464f2-cae8-4a50-a0c8-1967196d0a48/Untitled.png)

</br>
</br>

## 2. í™•ì¥ í•¨ìˆ˜

### 1) ì •ì˜

- í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œ ì¶”ê°€ ê°€ëŠ¥
- ë‚´ê°€ ì„¤ê³„í•œ í´ë˜ìŠ¤ê°€ ì•„ë‹ ë•Œ ì™¸ë¶€ì—ì„œ ë©”ì†Œë“œ ê´€ë¦¬
- í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ëª»í•˜ëŠ” ìƒí™©ì—ì„œ í™•ì¥í•¨ìˆ˜ë¡œ ë©”ì†Œë“œ ì¶”ê°€í•´ ì‚¬

</br>

### 2) ì˜ˆì‹œ

- ì´ë¦„, ë‚˜ì´ë§Œ ì¶œë ¥í•˜ëŠ” displayInfo ë©”ì†Œë“œê°€ ìˆëŠ”ë° ì¶”ê°€ë¡œ ë“±ê¸‰ê¹Œì§€ ì¡°

```kotlin
fun main() {
		//í™•ì¥ í•¨ìˆ˜ ì¶”ê°€
    fun Student.getGrade() = println("í•™ìƒì˜ ë“±ê¸‰ì€ ${this.grade} ì…ë‹ˆë‹¤")
    var student = Student("ì°¸ìƒˆ", 10, "A+")
    student.displayInfo()
    student.getGrade()
}

class Student(name: String, age: Int, grade: String) {
    var name: String
    var age: Int
		var grade: String

    init {
        this.name = name
        this.age = age
				this.grade = grade
    }

    fun displayInfo() {
        println("ì´ë¦„ì€ ${name} ì…ë‹ˆë‹¤")
        println("ë‚˜ì´ëŠ” ${age} ì…ë‹ˆë‹¤")
    }
}
```

</br>
</br>

## 3. ì‹¤ìŠµ : í…ìŠ¤íŠ¸ RPG ê²Œì„ì˜ ì½”ë“œ íš¨ìœ¨ì„± ê°œì„ _2

- CashShop

```kotlin
class CashShop private constructor() {
    private val bowPrice = 150
    private val staffPrice = 120

    companion object {
        @Volatile private var instance: CashShop? = null

        fun getInstance(): CashShop {
            // ì™¸ë¶€ì—ì„œ ìš”ì²­ì™”ì„ë•Œ instanceê°€ nullì¸ì§€ ê²€ì¦
            if(instance == null) {
                // synchronizedë¡œ ì™¸ë¶€ ì“°ë ˆë“œì˜ ì ‘ê·¼ì„ ë§‰ìŒ
                // ì“°ë ˆë“œëŠ” ë‹¤ìŒì±•í„°ì—ì„œ ì†Œê°œí•©ë‹ˆë‹¤!
                // ì“°ë ˆë“œê°„ì˜ ê°ì²´ìƒíƒœ í˜¼ëˆì„ ë§‰ê¸°ìœ„í•´ ì‚¬ìš©í•œë‹¤ê³  ì´í•´í•´ì£¼ì„¸ìš”
                synchronized(this) {
                    instance = CashShop()
                }
            }
            return instance!!
        }
    }
		//Archer, Wizard ë¶€ëª¨ íƒ€ì… Character
    fun purchaseWeapon(character:Character){
				//ê°ì²´ íƒ€ì… ê²€ì‚¬
        if(character is Archer) {
						//ScopeFunction
            character?.run {
                if(money >= bowPrice) { //this.money, this.bowPrice
                    println("[êµ¬ë§¤ í›„ ê¸ˆì•¡]: [${money} - ${bowPrice}] = ${money-bowPrice}")
                    money -= bowPrice
                    weapons.add("ìŠˆí¼ í™œ")
                } else {
                    println("ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤.")
                }
            }
        } else if(character is Wizard) {
            character?.run {
                if(money >= staffPrice) {
                    println("[êµ¬ë§¤ í›„ ê¸ˆì•¡]: [${money} - ${staffPrice}] = ${money-staffPrice}")
                    money -= staffPrice
                    weapons.add("ìŠˆí¼ ìŠ¤íƒœí”„")
                } else {
                    println("ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤.")
                }
            }
        }
    }

}
```

- WorldMain

```kotlin
fun main() {
    val worldName = "ìŠ¤ì½”ì›”ë“œ"

    var myName = inputMyInfo("name").toString()

    var myAge = inputMyInfo("age").toString().toInt()

    var myJob = inputMyInfo("job").toString()

    var myGender = inputMyInfo("gender").toString()

    var myMoney = inputMyInfo("money").toString().toInt()

    var myHp = inputMyInfo("hp").toString().toInt()

    var isNamePass = true
    var isAgePass = true
    var isJobPass = true

    var names = mutableListOf("ì°¸ìƒˆ", "ê¿©", "ë¹„ë‘˜ê¸°")
    for(name in names) {
        if(myName == name) {
            println("ì¤‘ë³µëœ ì´ë¦„ì´ ì¡´ì¬í•©ë‹ˆë‹¤.")
            isNamePass = false
            break
        }
    }

    if(myAge < 12) {
        println("12ì„¸ ë¯¸ë§Œì€ ì´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
        isAgePass = false
    }
    if(myJob == "ì „ì‚¬") {
        println("ì¼ì‹œì ìœ¼ë¡œ ì „ì‚¬ë¥¼ ì´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
        isJobPass = false
    }

    // ëª¨ë“  ì¡°ê±´ì„ í†µê³¼í•œ ê²½ìš°ì—ë§Œ í™˜ì˜
    if(isNamePass && isAgePass && isJobPass) {
        // ìƒˆë¡œ ì´ë¦„ ì¶”ê°€
        names.add(myName)
        displayInfo(worldName, myName, myAge, myJob)

        if(myJob == "ë§ˆë²•ì‚¬") {
            println("ë§ˆë²•ì‚¬ëŠ” ì´ˆê¸° mpë„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            var myMp = inputMyInfo("mp").toString().toInt()
            var myCharacter = Wizard(myName, myAge, myGender, myMoney, myHp, myMp)

            while(true) {
                println("[1] ìŠ¬ë¼ì„ë™êµ´, [2] ì¢€ë¹„ë§ˆì„, [3] ìºì‰¬ìƒµ, [4] ì¢…ë£Œ")
                var selectNumber= inputMyInfo("selectNumber").toString().toInt()

                when(selectNumber) {
                    1 -> {
                        selectWorld(1, myCharacter)
                    }
                    2 -> {
                        selectWorld(2, myCharacter)
                    }
                    3 -> {
                        openCashShop(myCharacter)
                    }
                    4 -> {
                        println("ê²Œì„ ì¢…ë£Œ")
                        break
                    }
                    else -> {
                        break
                    }
                }
            }
        } else if(myJob == "ê¶ìˆ˜") {
            println("ê¶ìˆ˜ë¥¼ ì„ íƒí–ˆêµ°ìš”")
            var myCharacter = Archer(myName, myAge, myGender, myMoney, myHp)

            while(true) {
                println("[1] ìŠ¬ë¼ì„ë™êµ´, [2] ì¢€ë¹„ë§ˆì„, [3] ìºì‰¬ìƒµ, [4] ì¢…ë£Œ")
                var selectNumber= inputMyInfo("selectNumber").toString().toInt()

                when(selectNumber) {
                    1 -> {
                        selectWorld(1, myCharacter)
                    }
                    2 -> {
                        selectWorld(2, myCharacter)
                    }
                    3 -> {
                        openCashShop(myCharacter)
                    }
                    4 -> {
                        println("ê²Œì„ ì¢…ë£Œ")
                        break
                    }
                    else -> {
                        break
                    }
                }
            }
        }
    }
}

fun displayInfo(worldName:String, myName:String, myAge:Int, myJob:String) {
    println("==================${worldName}ì— ì˜¤ì‹ ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤==================")
    println("ë‹¹ì‹ ì˜ ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.")
    println("ì´ë¦„: ${myName}ì…ë‹ˆë‹¤.")
    println("ë‚˜ì´: ${myAge}ì…ë‹ˆë‹¤.")
    println("ì§ì—…: ${myJob}ì…ë‹ˆë‹¤.")
    println("ëª¨í—˜ì„ ë– ë‚˜ ë³¼ê¹Œìš”?")
}

//byArcher, byWizardë¡œ êµ¬ë¶„ -> Characterë¡œ í†µì¼
fun selectWorld(selectWorld:Int, myCharacter: Character) {
    if(selectWorld == 1) { // ìŠ¬ë¼ì„ ë˜ì „
        if(myCharacter is Archer) {
            var slime1 = Slime("ì´ˆë¡ìŠ¬ë¼ì„", "ì´ˆë¡", 30.2, 200, 10)
            slime1.attack()
            myCharacter.windArrow()
            slime1.poison()
        } else if(myCharacter is Wizard) {
            var slime1 = Slime("íŒŒë‘ìŠ¬ë¼ì„", "íŒŒë‘", 30.2, 200, 10)
            slime1.attack()
            myCharacter.fireBall()
            slime1.poison()
        }
    } else if(selectWorld == 2) { // ì¢€ë¹„ ë˜ì „

        if(myCharacter is Archer) {
            var zombie1 = Zombie("íŒŒë‘ì¢€ë¹„", "íŒŒë‘", 142.2, 500, 25)
            zombie1.virus()
            myCharacter.windJump("ê±´ë¬¼1")

        } else if(myCharacter is Wizard) {
            var zombie1 = Zombie("íŒŒë‘ì¢€ë¹„", "íŒŒë‘", 142.2, 500, 25)
            zombie1.virus()
            myCharacter.teleport(10, 20)
        }

    }
}

fun inputMyInfo(type:String): Any? {
    return when(type) {
        "name" -> {
            println("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originName = readLine()
                    if(originName?.first() != '_' && originName?.first() != '!') {
                        return originName
                    } else {
                        println("ì´ë¦„ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                    }
                } catch(e:Exception) {
                    println("ì´ë¦„ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "age" -> {
            println("ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originAge:String? = readLine()
                    return originAge?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ë‚˜ì´ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "job" -> {
            println("ì§ì—…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originName = readLine()
                    if(originName?.equals("ê¶ìˆ˜") == true || originName?.equals("ë§ˆë²•ì‚¬") == true) {
                        return originName
                    } else {
                        println("ì§ì—…ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                    }
                } catch(e:Exception) {
                    println("ì§ì—…ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "gender" -> {
            println("ì„±ë³„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originGender = readLine()
                    if(originGender?.equals("ë‚¨") == true || originGender?.equals("ì—¬") == true) {
                        return originGender
                    } else {
                        println("ì„±ë³„ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                    }
                } catch(e:Exception) {
                    println("ì„±ë³„ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "money" -> {
            println("ì´ˆê¸°ìë³¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originMoney:String? = readLine()
                    return originMoney?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ì´ˆê¸°ìë³¸ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "hp" -> {
            println("ì´ˆê¸°ì²´ë ¥ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originHp:String? = readLine()
                    return originHp?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ì´ˆê¸°ì²´ë ¥ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "mp" -> {
            println("ì´ˆê¸°ë§ˆë‚˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originMp:String? = readLine()
                    return originMp?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ì´ˆê¸°ë§ˆë‚˜ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "selectWorld" -> {
            println("ì›”ë“œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var selectWorld:String? = readLine()
                    return selectWorld?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ì›”ë“œë¥¼ ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”")
                }
            }
        }
        "selectNumber" -> {
            println("ë²ˆí˜¸ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var selectNumber:String? = readLine()
                    return selectNumber?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”")
                }
            }
        }
        else -> {
            return "no"
        }
    }
}

fun openCashShop(character: Character) {
    var cashShop = CashShop.getInstance()

    if(character is Archer) {
        println("êµ¬ë§¤ì „ ë¬´ê¸°: ${character.weapons}")
        cashShop.purchaseWeapon(character)
        println("êµ¬ë§¤í›„ ë¬´ê¸°: ${character.weapons}")
    } else if(character is Wizard) {
        println("êµ¬ë§¤ì „ ë¬´ê¸°: ${character.weapons}")
        cashShop.purchaseWeapon(character)
        println("êµ¬ë§¤í›„ ë¬´ê¸°: ${character.weapons}")
    }
}
```

</br>
</br>

## 4. ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°

### 1) íŠ¹ì§•

- 5GB ì˜ìƒ ë‹¤ìš´ë¡œë“œ â†’ ë©”ì¼ ì „ì†¡ â†’ ì•Œë¦¼ ìˆœì„œì˜ ë¡œì§
- ë™ê¸°ì  í”„ë¡œê·¸ë˜ë° : ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰, ë‹¤ë¥¸ ì‘ì—…ì„ í•˜ì§€ ëª»í•˜ê³  ì•±ì´ ë©ˆì¶”ëŠ” ë¬¸ì œ ë°œìƒ ê°€ëŠ¥
- ë¹„ë™ê¸°ì  í”„ë¡œê·¸ë˜ë° : ë‹¤ë¥¸ ì‘ì—…ì„ í•˜ê³  ìˆë‹¤ê°€ ì˜ìƒ ë‹¤ìš´ë¡œë“œê°€ ì™„ë£Œë˜ì—ˆì„ ë•Œ ì•Œë¦¼ ë°œìƒ

</br>

### 2) ë™ê¸°ì  í”„ë¡œê·¸ë˜ë°

- ìš”ì²­ì„ ë³´ë‚´ê³  ê²°ê³¼ ê°’ì„ ë°›ì„ ë•Œê¹Œì§€ ì‘ì—… ë©ˆì¶¤ (ì•ì„  ì‘ì—…ì´ ëë‚˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë’·ì‘ì—… ìˆ˜í–‰ X)
- í•œ ê°€ì§€ì”© ì‘ì—… ì²˜ë¦¬

</br>

### 3) ë¹„ë™ê¸°ì  í”„ë¡œê·¸ë˜ë°

- ìš”ì²­ì„ ë³´ë‚´ê³  ê²°ê³¼ ê°’ì„ ë°›ì„ ë•Œê¹Œì§€ ë©ˆì¶”ì§€ ì•Šê³  ë˜ ë‹¤ë¥¸ ì¼ ìˆ˜í–‰
- ë‹¤ì–‘í•œ ì¼ í•œë²ˆì— ìˆ˜í–‰

</br>
</br>

## 5. ì“°ë ˆë“œ

### 1) ì •ì˜

- í”„ë¡œê·¸ë¨ì€ í•˜ë‚˜ì´ ë©”ì¸ ì“°ë ˆë“œ ì¡´ì¬ (fun main() í•¨ìˆ˜)
- ë©”ì¸ ì“°ë ˆë“œ ìœ„ì—ì„œ ë¡œì§ì„ ì‹¤í–‰í•´ì„œ ë™ì‹œ ì²˜ë¦¬ ë¶ˆê°€ëŠ¥ (ìˆœì„œëŒ€ë¡œ ì‹¤í–‰)
- ìì‹ ì“°ë ˆë“œ ìƒì„±í•´ ë™ì‹œì— ë¡œì§ ì‹¤í–‰ ê°€ëŠ¥

</br>

### 2) ì‚¬ì „ ì§€ì‹

- í”„ë¡œì„¸ìŠ¤ : í”„ë¡œê·¸ë¨ì´ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°€ì„œ ì‹¤í–‰ ëœ ê²ƒ (í”„ë¡œê·¸ë¨ ë”ë¸” í´ë¦­)

<aside>
ğŸ’¡ ì“°ë ˆë“œ

- í”„ë¡œì„¸ìŠ¤ë³´ë‹¤ ë” ì‘ì€ ë‹¨ìœ„
- ìƒì„±ë˜ë©´ì„œ ìˆ˜í–‰ í•  ë•Œ ê° ë…ë¦½ëœ ë©”ëª¨ë¦¬ ì˜ì—­ì¸ STACK ê°€ì§
</aside>

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/947e0026-f7f6-4a13-be39-4bdf376692cc/Untitled.png)

</br>

### 3) ì˜ˆì‹œ

- ì‚¬ì „ ì‘ì—… : build.gradle íŒŒì¼

```kotlin
dependencies {
    implementation("org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.2")
}
```

- 1ë¶€í„° 10ê¹Œì§€ ì¶œë ¥í•˜ëŠ” ì½”ë“œë¥¼ 2ê°œì˜ ì“°ë ˆë“œë¡œ ê²½ìŸ

```kotlin
fun main() {
    thread(start = true) {
        for(i in 1..10) {
            println("Thread1: í˜„ì¬ ìˆ«ìëŠ” ${i}")
            runBlocking {
                launch {
										//1ì´ˆë§ˆë‹¤ ë”œë ˆì´ = ìì› ê²½ìŸ ìœ„í•´
                    delay(1000)
                }
            }
        }
    }

    thread(start = true) {
        for(i in 50..60) {
            println("Thread2: í˜„ì¬ ìˆ«ìëŠ” ${i}")
            runBlocking {
                launch {
                    delay(1000)
                }
            }
        }
    }
}
```

: Thread1ê³¼ Thrad2ì˜ ìˆœì„œëŠ” ë³´ì¥ë˜ì§€ ì•Šê³  ê²½ìŸ

</br>
</br>

## 6. ì½”ë£¨í‹´

### 1) ì •ì˜

- ìµœì í™”ëœ ë¹„ë™ê¸° í•¨ìˆ˜, ì•ˆì •ì ì¸ ë™ì‹œì„±
- ì“°ë ˆë“œë³´ë‹¤ ë”ìš± ê°€ë³ê²Œ ì‚¬ìš© ê°€ëŠ¥

</br>

### 2) ë¹Œë” ì‚¬ìš©

- launch, async ë¹Œë”ë¥¼ ê°€ì¥ ë§ì´ ì‚¬ìš© (ê°ì²´ ìƒì„± ì‰½ê²Œ í•´ì£¼ëŠ” ë””ìì¸ íŒ¨í„´)
    - launch : ê²°ê³¼ê°’ì´ ì—†ëŠ” ì½”ë£¨í‹´ ë¹Œë”
    - async : ê²°ê³¼ê°’ì´ ìˆëŠ” ì½”ë£¨í‹´ ë¹Œë”

- ìŠ¤ì½”í”„ë¡œ ë²”ìœ„ ì§€ì •
    - GlobalScope : ì•±ì´ ì‹¤í–‰ëœ ì´í›„ì— ê³„ì† ìˆ˜í–‰
    - CoroutineScope : í•„ìš”í•  ë•Œë§Œ ìƒì„±í•˜ê³  ì‚¬ìš© í›„ì— ì •ë¦¬ í•„ìš”

- ì½”ë£¨í‹´ì„ ì‹¤í–‰í•  ì“°ë ˆë“œë¥¼ Dispacherë¡œ ì§€ì • ê°€ëŠ¥ (1ê°œì˜ ì“°ë ˆë“œ ì•ˆì— ì—¬ëŸ¬ ê°œì˜ ì½”ë£¨í‹´ ì‚¬ìš©)
    - Dispatchers.Main : UIì™€ ìƒí˜¸ ì‘ìš©í•˜ê¸° ìœ„í•œ ë©”ì¸ ì“°ë ˆë“œ
    - [Dispatchers.IO](http://Dispatchers.IO) : ë„¤íŠ¸ì›Œí¬ë‚˜ ë””ìŠ¤í¬ I/O ì‘ì—…ì— ìµœì í™”ë˜ì–´ìˆëŠ” ì“°ë ˆë“œ
    - Dispatchers.Default : ê¸°ë³¸ì ìœ¼ë¡œ CPU ìµœì í™” ë˜ì–´ìˆëŠ” ì“°ë ˆë“œ

</br>

### 3) ì˜ˆì‹œ

- ì‹¤ìŠµ í™˜ê²½ : ì‹¤í–‰ í›„ ì¢…ë£Œë˜ëŠ” JVM í™˜ê²½, but ì•ˆë“œë¡œì´ë“œëŠ” í•­ìƒ ì•±ì´ ì¼œìˆëŠ” ìƒíƒœ

- ì½”ë£¨í‹´ ê²°ê³¼ ì–»ì„ ìˆ˜ ì—†ìŒ

```kotlin
fun main(args: Array<String>) {
    println("ë©”ì¸ì“°ë ˆë“œ ì‹œì‘")
    var job = GlobalScope.launch {
        delay(3000)
        println("ì—¬ê¸°ëŠ” ì½”ë£¨í‹´...")
    }
    println("ë©”ì¸ì“°ë ˆë“œ ì¢…ë£Œ")
}
```

- ë¹„ë™ê¸°ì  ì½”ë£¨í‹´ ê²°ê³¼ ì¡°íšŒ : jobì˜ join ë©”ì†Œë“œ í™œìš©

```kotlin
fun main(args: Array<String>) {
    println("ë©”ì¸ì“°ë ˆë“œ ì‹œì‘")
    var job = GlobalScope.launch {
        delay(3000)
        println("ì—¬ê¸°ëŠ” ì½”ë£¨í‹´...")
    }
    runBlocking {
        job.join()
    }
    println("ë©”ì¸ì“°ë ˆë“œ ì¢…ë£Œ")
}
```

- ë‹¤ë¥¸ ì½”ë£¨í‹´ ìŠ¤ì½”í”„

```kotlin
fun main(args: Array<String>) {
    println("ë©”ì¸ì“°ë ˆë“œ ì‹œì‘")
    var job = CoroutineScope(Dispatchers.Default).launch {
        delay(3000)
        println("ì—¬ê¸°ëŠ” ì½”ë£¨í‹´...")
    }
    runBlocking {
        job.join()
    }
    println("ë©”ì¸ì“°ë ˆë“œ ì¢…ë£Œ")
		job.cancel() //CoroutineScope ì‚¬ìš© í›„ ì •ë¦¬ í•„ìš”
}
```

- ì½”ë£¨í‹´ì˜ ê²°ê³¼ê°’ ë¦¬í„´ ë°›ì„ ìˆ˜ ìˆìŒ
    - ê²°ê³¼ê°’ ë¦¬í„´ ë°›ì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì— await ì‚¬ìš©
    - awaitëŠ” ì¼ì‹œ ì¤‘ë‹¨ì´ ê°€ëŠ¥í•œ ì½”ë£¨í‹´ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥

```kotlin
println("ë©”ì¸ì“°ë ˆë“œ ì‹œì‘")
    var job = CoroutineScope(Dispatchers.Default).launch {
        var fileDownloadCoroutine = async(Dispatchers.IO) {
            delay(10000)
            "íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ"
        }
        var databaseConnectCoroutine = async(Dispatchers.IO) {
            delay(5000)
            "ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì™„ë£Œ"
        }
        println("${fileDownloadCoroutine.await()}")
        println("${databaseConnectCoroutine.await()}")
    }
    runBlocking {
        job.join()
    }
    println("ë©”ì¸ì“°ë ˆë“œ ì¢…ë£Œ")
    job.cancel()
```

</br>
</br>

## 7. ì“°ë ˆë“œì™€ ì½”ë£¨í‹´

### 1) ì •ì˜

- ì“°ë ˆë“œì™€ ì½”ë£¨í‹´ ë‘˜ ë‹¤ ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°ì„ ìœ„í•œ ê¸°ìˆ 
- ì»¨í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ì¤‘ìš”

</br>

### 2) ì“°ë ˆë“œ

- ì‘ì—… í•˜ë‚˜í•˜ë‚˜ì˜ ë‹¨ìœ„ : Thread
    - ê° Threadê°€ ë…ë¦½ì ì¸ Stack ë©”ëª¨ë¦¬ ì˜ì—­ ê°€ì§

- ë™ì‹œì„± ë³´ì¥ ìˆ˜ë‹¨ :Â **Context Switching**
    - OS ì»¤ë„ì— ì˜í•œ Context Switching
    - Blocking(ë¸”ë¡œí‚¹)
        - Thread Aê°€ Thread Bì˜ ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ê³  ìˆì„ ë•Œì˜ Thread Aì˜ ìƒíƒœ
        - Thread A : ê²°ê³¼ê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ í•´ë‹¹ ìì› ì‚¬ìš© X

- ì˜ˆì‹œ
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/84f09738-b60f-4d0d-942f-30652cf18aae/Untitled.png)
    
    - Thread A : task1 ìˆ˜í–‰í•˜ëŠ” ë™ì•ˆ task2ì˜ ê²°ê³¼ í•„ìš”í•˜ë©´ Thread B í˜¸ì¶œ
    - Thread A ë¸”ë¡œí‚¹
    - Thread Bë¡œ í”„ë¡œì„¸ìŠ¤ ê°„ ìŠ¤ìœ„ì¹­ ì¼ì–´ë‚˜ task2 ìˆ˜í–‰
    - task2 ì™„ë£Œ â†’ Thread Aë¡œ ë‹¤ì‹œ ìŠ¤ìœ„ì¹­í•´ ê²°ê³¼ ê°’ task1ì—ê²Œ ë°˜í™˜
    - Task 3, Task 4ëŠ” ì§„í–‰ë˜ëŠ” ë„ì¤‘ì—ë„ ê°ê° ë™ì‹œì— ì‹¤í–‰

- ìŠ¤ì¼€ì¤„ë§ : ì–´ë–¤ ìŠ¤ë ˆë“œë¥¼ ë¨¼ì € ì‹¤í–‰í•´ì•¼ í•  ì§€ ê²°ì •í•˜ëŠ” í–‰ìœ„
- ì´ëŸ¬í•œ í–‰ìœ„ë¥¼ í†µí•´ ë™ì‹œì„± ë³´ì¥

</br>

### 3) ì½”ë£¨í‹´

- ì‘ì—… í•˜ë‚˜í•˜ë‚˜ì˜ ë‹¨ìœ„ : Coroutine Object
    - JVM Heapì— ì ì¬

- ë™ì‹œì„± ë³´ì¥ ìˆ˜ë‹¨ : Programmer Switching
    - OS ê´€ì—¬ X, ì†ŒìŠ¤ ì½”ë“œë¥¼ í†µí•´ Switching ì‹œì  ë§ˆìŒëŒ€ë¡œ ê²°ì •
    - Suspend (Non-Blocking)
        - Object1ì´ Object2 ê²°ê³¼ ê¸°ë‹¤ë¦´ ë•Œ Object1 ìƒíƒœ :  Suspend
        - Object1 ìˆ˜í–‰í•˜ë˜ Thread ê·¸ëŒ€ë¡œ ìœ íš¨
        - Object2ë„ Object1ê³¼ ë™ì¼í•œ Threadì—ì„œ ì‹¤í–‰

- ì˜ˆì‹œ
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a42fa333-a47e-4426-ae1a-0dd4aba940dc/Untitled.png)
    
    - Task1ì„ ìˆ˜í–‰í•˜ë‹¤ê°€ Task2ì˜ ìˆ˜í–‰ ìš”ì²­ ë°œìƒ
    - ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ X, ë™ì¼í•œ Thread Aì—ì„œ ìˆ˜í–‰ ê°€ëŠ¥
    - Thread Cì²˜ëŸ¼ í•˜ë‚˜ì˜ ì“°ë ˆë“œì—ì„œ ì—¬ëŸ¬ Task Object ìˆ˜í–‰ ê°€ëŠ¥
    
    - ì½”ë£¨í‹´ : Light-Weight Thread, í•˜ë‚˜ì˜ Threadë¥¼ ë”ìš± ì˜ê²Œ ìª¼ê°œì„œ ì‚¬ìš©
    
</br>
</br>

## 8. ì‹¤ìŠµ: í…ìŠ¤íŠ¸ RPG ê²Œì„ì˜ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ ê°œì„ 

- CashShop

```kotlin
class CashShop private constructor() {
    private val bowPrice = 150
    private val staffPrice = 120

    companion object {
        @Volatile private var instance: CashShop? = null
        //lottoStatus : ì¼ë“±í•œ ë§ì˜ ì´ë¦„, isFinish : ë§ ê²½ì£¼ ëë‚¬ëŠ”ì§€ ì•ˆëë‚¬ëŠ”ì§€
        @Volatile private var lottoStatus: String? = null
        @Volatile private var isFinish: Boolean? = null

        fun getInstance(): CashShop {
            // ì™¸ë¶€ì—ì„œ ìš”ì²­ì™”ì„ë•Œ instanceê°€ nullì¸ì§€ ê²€ì¦
            if(instance == null) {
                // synchronizedë¡œ ì™¸ë¶€ ì“°ë ˆë“œì˜ ì ‘ê·¼ì„ ë§‰ìŒ
                // ì“°ë ˆë“œëŠ” ë‹¤ìŒì±•í„°ì—ì„œ ì†Œê°œí•©ë‹ˆë‹¤!
                // ì“°ë ˆë“œê°„ì˜ ê°ì²´ìƒíƒœ í˜¼ëˆì„ ë§‰ê¸°ìœ„í•´ ì‚¬ìš©í•œë‹¤ê³  ì´í•´í•´ì£¼ì„¸ìš”
                synchronized(this) {
                    instance = CashShop()
                }
            }
            return instance!!
        }
    }

    fun purchaseWeapon(character:Character){
        if(character is Archer) {
            character?.run {
                if(money >= bowPrice) {
                    println("[êµ¬ë§¤ í›„ ê¸ˆì•¡]: [${money} - ${bowPrice}] = ${money-bowPrice}")
                    money -= bowPrice
                    weapons.add("ìŠˆí¼ í™œ")
                } else {
                    println("ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤.")
                }
            }
        } else if(character is Wizard) {
            character?.run {
                if(money >= staffPrice) {
                    println("[êµ¬ë§¤ í›„ ê¸ˆì•¡]: [${money} - ${staffPrice}] = ${money-staffPrice}")
                    money -= staffPrice
                    weapons.add("ìŠˆí¼ ìŠ¤íƒœí”„")
                } else {
                    println("ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤.")
                }
            }
        }
    }

    //ì™¸ë¶€ì—ì„œ ìºë¦­í„°ë°›ê³  ê·¸ ì‚¬ëŒì´ ì„ íƒí•œ ë§ ì´ë¦„ ë°›ê¸°
    fun startLotto(character: Character, selectHorse: String) {
        //íŠ¹ì •í•œ ì •ìˆ˜ë¥¼ ìµœì†Œê°’, ìµœëŒ€ê°’ ì§€ì •í•´ì„œ ë½‘ì•„ì˜¬ ìˆ˜ ìˆìŒ
        var random = Random()
        val finalDst = 100
        isFinish = false
        //ë§ í•œë§ˆë¦¬
        thread(start = true) {
            var currentPosition = 0
            //100ë¯¸í„° ë„ì‘ í–ˆê³ , isFinishê°€ trueì´ë©´ ë‚˜ê°
            while(currentPosition < finalDst && isFinish == false) {
                currentPosition += (random.nextInt(5) + 1)

                println("1ë²ˆë§ í˜„ì¬ ìœ„ì¹˜: ${currentPosition}m")
                runBlocking {
                    launch {
                        delay(1000)
                    }
                }
            }
            //1ë“± ë§ì´ ì§€ì •ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ë‹¤ë¥¸ ë§ ì´ë¦„ì´ lottoStatusì— ë“¤ì–´ìˆì§€ ì•Šìœ¼ë©´
            if(lottoStatus == null || lottoStatus != "two") {
                lottoStatus = "one" //ì´ë¦„
                isFinish = true
                println("1ë“±: ${lottoStatus}ë§")

                //ë§ì˜ ì´ë¦„ì´ ì²˜ìŒì— ì„ íƒí•œ ì´ë¦„ê³¼ ê°™ì€ì§€ í™•ì¸
                if(lottoStatus.equals(selectHorse)) {
                    println("ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì²¨!")
                    println("ìƒê¸ˆìœ¼ë¡œ 1ë§Œì› ì§€ê¸‰")

                    // ì™œ ì´ë ‡ê²Œë°–ì— ì‘ì„±í–ˆëŠ”ì§€ ì´ìœ ë¥¼ ìƒê°í•˜ê³ 
                    // ì½”ë“œë¥¼ ê°œì„ í•˜ê¸°
                    if(character is Archer) {
                        character?.run {
                            money += 10000
                        }
                    } else if(character is Wizard) {
                        character?.run {
                            money += 10000
                        }
                    }
                }
            }

        }

        //ë§ ë‘ë§ˆë¦¬
        thread(start = true) {
            var currentPosition = 0
            while(currentPosition < finalDst && isFinish == false) {
                currentPosition += (random.nextInt(10) + 1)

                println("2ë²ˆë§ í˜„ì¬ ìœ„ì¹˜: ${currentPosition}m")
                runBlocking {
                    launch {
                        delay(1000)
                    }
                }
            }
            if(lottoStatus == null || lottoStatus != "one") {
                lottoStatus = "two"
                isFinish = true
                println("1ë“±: ${lottoStatus}ë§")
                if(lottoStatus.equals(selectHorse)) {
                    println("ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì²¨!")
                    println("ìƒê¸ˆìœ¼ë¡œ 1ë§Œì› ì§€ê¸‰")

                    // ì™œ ì´ë ‡ê²Œë°–ì— ì‘ì„±í–ˆëŠ”ì§€ ì´ìœ ë¥¼ ìƒê°í•˜ê³ 
                    // ì½”ë“œë¥¼ ê°œì„ í•˜ê¸°
                    if(character is Archer) {
                        character?.run {
                            money += 10000
                        }
                    } else if(character is Wizard) {
                        character?.run {
                            money += 10000
                        }
                    }
                }
            }

        }
    }
}
```

- WorldMain

```kotlin
fun main() {
    val worldName = "ìŠ¤ì½”ì›”ë“œ"

    var myName = inputMyInfo("name").toString()

    var myAge = inputMyInfo("age").toString().toInt()

    var myJob = inputMyInfo("job").toString()

    var myGender = inputMyInfo("gender").toString()

    var myMoney = inputMyInfo("money").toString().toInt()

    var myHp = inputMyInfo("hp").toString().toInt()

    var isNamePass = true
    var isAgePass = true
    var isJobPass = true

    var names = mutableListOf("ì°¸ìƒˆ", "ê¿©", "ë¹„ë‘˜ê¸°")
    for(name in names) {
        if(myName == name) {
            println("ì¤‘ë³µëœ ì´ë¦„ì´ ì¡´ì¬í•©ë‹ˆë‹¤.")
            isNamePass = false
            break
        }
    }

    if(myAge < 12) {
        println("12ì„¸ ë¯¸ë§Œì€ ì´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
        isAgePass = false
    }
    if(myJob == "ì „ì‚¬") {
        println("ì¼ì‹œì ìœ¼ë¡œ ì „ì‚¬ë¥¼ ì´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
        isJobPass = false
    }

    // ëª¨ë“  ì¡°ê±´ì„ í†µê³¼í•œ ê²½ìš°ì—ë§Œ í™˜ì˜
    if(isNamePass && isAgePass && isJobPass) {
        // ìƒˆë¡œ ì´ë¦„ ì¶”ê°€
        names.add(myName)
        displayInfo(worldName, myName, myAge, myJob)

        if(myJob == "ë§ˆë²•ì‚¬") {
            println("ë§ˆë²•ì‚¬ëŠ” ì´ˆê¸° mpë„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            var myMp = inputMyInfo("mp").toString().toInt()
            var myCharacter = Wizard(myName, myAge, myGender, myMoney, myHp, myMp)

            while(true) {
                println("[1] ìŠ¬ë¼ì„ë™êµ´, [2] ì¢€ë¹„ë§ˆì„, [3] ìºì‰¬ìƒµ, [4] ì¢…ë£Œ")
                var selectNumber= inputMyInfo("selectNumber").toString().toInt()

                when(selectNumber) {
                    1 -> {
                        selectWorld(1, myCharacter)
                    }
                    2 -> {
                        selectWorld(2, myCharacter)
                    }
                    3 -> {
                        openCashShop(myCharacter)
                    }
                    4 -> {
                        println("ê²Œì„ ì¢…ë£Œ")
                        break
                    }
                    else -> {
                        break
                    }
                }
            }
        } else if(myJob == "ê¶ìˆ˜") {
            println("ê¶ìˆ˜ë¥¼ ì„ íƒí–ˆêµ°ìš”")
            var myCharacter = Archer(myName, myAge, myGender, myMoney, myHp)

            while(true) {
                println("[1] ìŠ¬ë¼ì„ë™êµ´, [2] ì¢€ë¹„ë§ˆì„, [3] ìºì‰¬ìƒµ, [4] ë¡œë˜ [5] ì¢…ë£Œ")
                var selectNumber= inputMyInfo("selectNumber").toString().toInt()

                when(selectNumber) {
                    1 -> {
                        selectWorld(1, myCharacter)
                    }
                    2 -> {
                        selectWorld(2, myCharacter)
                    }
                    3 -> {
                        openCashShop(myCharacter)
                    }
                    4 -> {
                        //ì„ íƒí•œ ë§ ì´ë¦„ ì…ë ¥ë°›ìŒ
                        var selectHorse = inputMyInfo("selectHorse").toString()
                        startLotto(myCharacter, selectHorse)
                    }
                    5 -> {
                        println("ê²Œì„ ì¢…ë£Œ")
                        break
                    }
                    else -> {
                        break
                    }
                }
            }
        }
    }
}

fun displayInfo(worldName:String, myName:String, myAge:Int, myJob:String) {
    println("==================${worldName}ì— ì˜¤ì‹ ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤==================")
    println("ë‹¹ì‹ ì˜ ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.")
    println("ì´ë¦„: ${myName}ì…ë‹ˆë‹¤.")
    println("ë‚˜ì´: ${myAge}ì…ë‹ˆë‹¤.")
    println("ì§ì—…: ${myJob}ì…ë‹ˆë‹¤.")
    println("ëª¨í—˜ì„ ë– ë‚˜ ë³¼ê¹Œìš”?")
}

fun selectWorld(selectWorld:Int, myCharacter: Character) {
    if(selectWorld == 1) { // ìŠ¬ë¼ì„ ë˜ì „
        if(myCharacter is Archer) {
            var slime1 = Slime("ì´ˆë¡ìŠ¬ë¼ì„", "ì´ˆë¡", 30.2, 200, 10)
            slime1.attack()
            myCharacter.windArrow()
            slime1.poison()
        } else if(myCharacter is Wizard) {
            var slime1 = Slime("íŒŒë‘ìŠ¬ë¼ì„", "íŒŒë‘", 30.2, 200, 10)
            slime1.attack()
            myCharacter.fireBall()
            slime1.poison()
        }
    } else if(selectWorld == 2) { // ì¢€ë¹„ ë˜ì „
        if(myCharacter is Archer) {
            var zombie1 = Zombie("íŒŒë‘ì¢€ë¹„", "íŒŒë‘", 142.2, 500, 25)
            zombie1.virus()
            myCharacter.windJump("ê±´ë¬¼1")

        } else if(myCharacter is Wizard) {
            var zombie1 = Zombie("íŒŒë‘ì¢€ë¹„", "íŒŒë‘", 142.2, 500, 25)
            zombie1.virus()
            myCharacter.teleport(10, 20)
        }

    }
}

fun inputMyInfo(type:String): Any? {
    return when(type) {
        "name" -> {
            println("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originName = readLine()
                    if(originName?.first() != '_' && originName?.first() != '!') {
                        return originName
                    } else {
                        println("ì´ë¦„ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                    }
                } catch(e:Exception) {
                    println("ì´ë¦„ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "age" -> {
            println("ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originAge:String? = readLine()
                    return originAge?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ë‚˜ì´ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "job" -> {
            println("ì§ì—…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originName = readLine()
                    if(originName?.equals("ê¶ìˆ˜") == true || originName?.equals("ë§ˆë²•ì‚¬") == true) {
                        return originName
                    } else {
                        println("ì§ì—…ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                    }
                } catch(e:Exception) {
                    println("ì§ì—…ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "gender" -> {
            println("ì„±ë³„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originGender = readLine()
                    if(originGender?.equals("ë‚¨") == true || originGender?.equals("ì—¬") == true) {
                        return originGender
                    } else {
                        println("ì„±ë³„ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                    }
                } catch(e:Exception) {
                    println("ì„±ë³„ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "money" -> {
            println("ì´ˆê¸°ìë³¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originMoney:String? = readLine()
                    return originMoney?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ì´ˆê¸°ìë³¸ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "hp" -> {
            println("ì´ˆê¸°ì²´ë ¥ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originHp:String? = readLine()
                    return originHp?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ì´ˆê¸°ì²´ë ¥ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "mp" -> {
            println("ì´ˆê¸°ë§ˆë‚˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originMp:String? = readLine()
                    return originMp?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ì´ˆê¸°ë§ˆë‚˜ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        "selectWorld" -> {
            println("ì›”ë“œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var selectWorld:String? = readLine()
                    return selectWorld?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ì›”ë“œë¥¼ ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”")
                }
            }
        }
        "selectNumber" -> {
            println("ë²ˆí˜¸ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var selectNumber:String? = readLine()
                    return selectNumber?.toInt() ?: -1
                } catch(e:Exception) {
                    println("ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”")
                }
            }
        }
        "selectHorse" -> {
            println("ë§ì˜ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
            while(true) {
                try {
                    var originName = readLine()
                    if(originName?.equals("one") == true || originName?.equals("two") == true) {
                        return originName
                    } else {
                        println("ë§ì˜ ì´ë¦„ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                    }
                } catch(e:Exception) {
                    println("ë§ì˜ ì´ë¦„ì„ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”")
                }
            }
        }
        else -> {
            return "no"
        }
    }
}

fun openCashShop(character: Character) {
    var cashShop = CashShop.getInstance()

    if(character is Archer) {
        println("êµ¬ë§¤ì „ ë¬´ê¸°: ${character.weapons}")
        cashShop.purchaseWeapon(character)
        println("êµ¬ë§¤í›„ ë¬´ê¸°: ${character.weapons}")
    } else if(character is Wizard) {
        println("êµ¬ë§¤ì „ ë¬´ê¸°: ${character.weapons}")
        cashShop.purchaseWeapon(character)
        println("êµ¬ë§¤í›„ ë¬´ê¸°: ${character.weapons}")
    }
}

fun startLotto(character: Character, horse: String) {
    var cashShop = CashShop.getInstance()

    cashShop.startLotto(character, horse)
}
```
